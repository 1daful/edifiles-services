"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _config = require("../common/config");

var _stringBuilder = _interopRequireDefault(require("../common/string-builder"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function requestLogger(request, config = {}) {
  const {
    baseURL,
    url,
    params,
    method,
    data,
    headers
  } = request;
  const buildConfig = (0, _config.assembleBuildConfig)(config);
  const stringBuilder = new _stringBuilder.default(buildConfig);
  const log = stringBuilder.makeLogTypeWithPrefix('Request').makeDateFormat(new Date()).makeMethod(method).makeUrl(url, baseURL).makeParams(params).makeHeader(headers).makeData(data).build();
  buildConfig.logger(log);
  return request;
}

var _default = requestLogger;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sb2dnZXIvcmVxdWVzdC50cyJdLCJuYW1lcyI6WyJyZXF1ZXN0TG9nZ2VyIiwicmVxdWVzdCIsImNvbmZpZyIsImJhc2VVUkwiLCJ1cmwiLCJwYXJhbXMiLCJtZXRob2QiLCJkYXRhIiwiaGVhZGVycyIsImJ1aWxkQ29uZmlnIiwic3RyaW5nQnVpbGRlciIsIlN0cmluZ0J1aWxkZXIiLCJsb2ciLCJtYWtlTG9nVHlwZVdpdGhQcmVmaXgiLCJtYWtlRGF0ZUZvcm1hdCIsIkRhdGUiLCJtYWtlTWV0aG9kIiwibWFrZVVybCIsIm1ha2VQYXJhbXMiLCJtYWtlSGVhZGVyIiwibWFrZURhdGEiLCJidWlsZCIsImxvZ2dlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUVBOztBQUNBOzs7O0FBRUEsU0FBU0EsYUFBVCxDQUF1QkMsT0FBdkIsRUFBb0RDLE1BQXdCLEdBQUcsRUFBL0UsRUFBbUY7QUFFL0UsUUFBTTtBQUFDQyxJQUFBQSxPQUFEO0FBQVVDLElBQUFBLEdBQVY7QUFBZUMsSUFBQUEsTUFBZjtBQUF1QkMsSUFBQUEsTUFBdkI7QUFBK0JDLElBQUFBLElBQS9CO0FBQXFDQyxJQUFBQTtBQUFyQyxNQUFnRFAsT0FBdEQ7QUFDQSxRQUFNUSxXQUFXLEdBQUcsaUNBQW9CUCxNQUFwQixDQUFwQjtBQUVBLFFBQU1RLGFBQWEsR0FBRyxJQUFJQyxzQkFBSixDQUFrQkYsV0FBbEIsQ0FBdEI7QUFDQSxRQUFNRyxHQUFHLEdBQUdGLGFBQWEsQ0FDcEJHLHFCQURPLENBQ2UsU0FEZixFQUVQQyxjQUZPLENBRVEsSUFBSUMsSUFBSixFQUZSLEVBR1BDLFVBSE8sQ0FHSVYsTUFISixFQUlQVyxPQUpPLENBSUNiLEdBSkQsRUFJTUQsT0FKTixFQUtQZSxVQUxPLENBS0liLE1BTEosRUFNUGMsVUFOTyxDQU1JWCxPQU5KLEVBT1BZLFFBUE8sQ0FPRWIsSUFQRixFQVFQYyxLQVJPLEVBQVo7QUFVQVosRUFBQUEsV0FBVyxDQUFDYSxNQUFaLENBQW1CVixHQUFuQjtBQUVBLFNBQU9YLE9BQVA7QUFDSDs7ZUFFY0QsYSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aW9zUmVxdWVzdENvbmZpZyB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFJlcXVlc3RMb2dDb25maWcgfSBmcm9tICcuLi9jb21tb24vdHlwZXMnO1xuaW1wb3J0IHsgYXNzZW1ibGVCdWlsZENvbmZpZyB9IGZyb20gJy4uL2NvbW1vbi9jb25maWcnO1xuaW1wb3J0IFN0cmluZ0J1aWxkZXIgZnJvbSAnLi4vY29tbW9uL3N0cmluZy1idWlsZGVyJztcblxuZnVuY3Rpb24gcmVxdWVzdExvZ2dlcihyZXF1ZXN0OiBBeGlvc1JlcXVlc3RDb25maWcsIGNvbmZpZzogUmVxdWVzdExvZ0NvbmZpZyA9IHt9KSB7XG5cbiAgICBjb25zdCB7YmFzZVVSTCwgdXJsLCBwYXJhbXMsIG1ldGhvZCwgZGF0YSwgaGVhZGVyc30gPSByZXF1ZXN0O1xuICAgIGNvbnN0IGJ1aWxkQ29uZmlnID0gYXNzZW1ibGVCdWlsZENvbmZpZyhjb25maWcpO1xuXG4gICAgY29uc3Qgc3RyaW5nQnVpbGRlciA9IG5ldyBTdHJpbmdCdWlsZGVyKGJ1aWxkQ29uZmlnKTtcbiAgICBjb25zdCBsb2cgPSBzdHJpbmdCdWlsZGVyXG4gICAgICAgIC5tYWtlTG9nVHlwZVdpdGhQcmVmaXgoJ1JlcXVlc3QnKVxuICAgICAgICAubWFrZURhdGVGb3JtYXQobmV3IERhdGUoKSlcbiAgICAgICAgLm1ha2VNZXRob2QobWV0aG9kKVxuICAgICAgICAubWFrZVVybCh1cmwsIGJhc2VVUkwpXG4gICAgICAgIC5tYWtlUGFyYW1zKHBhcmFtcylcbiAgICAgICAgLm1ha2VIZWFkZXIoaGVhZGVycylcbiAgICAgICAgLm1ha2VEYXRhKGRhdGEpXG4gICAgICAgIC5idWlsZCgpO1xuXG4gICAgYnVpbGRDb25maWcubG9nZ2VyKGxvZyk7XG5cbiAgICByZXR1cm4gcmVxdWVzdDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVxdWVzdExvZ2dlcjtcbiJdfQ==